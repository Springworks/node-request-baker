'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
function formatRef(_ref) {
  let $ref = _ref.$ref;

  return `$ref: \`${$ref}\``;
}

function getNumberType(_ref2) {
  let type = _ref2.type,
      format = _ref2.format;

  if (format === 'integer' || format === 'int32' || format === 'int64' || format === 'float' || format === 'double') {
    return format;
  }
  if (type === 'number' || type === 'integer') {
    return type;
  }
  return null;
}

function extractType(param) {
  if (param.$ref) {
    return formatRef(param);
  }

  if (param.schema) {
    return extractType(param.schema);
  }

  const number_type = getNumberType(param);
  if (number_type) {
    return number_type;
  }

  const type = param.type,
        format = param.format;


  if (format) {
    return `${type}, ${format}`;
  }

  if (type) {
    return type;
  }

  return 'unspecified type';
}

const api = {
  formatRef: formatRef,
  getNumberType: getNumberType,
  extractType: extractType
};

exports.default = api;
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _linkToHeader = require('./link-to-header');

var _linkToHeader2 = _interopRequireDefault(_linkToHeader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const api = {
  generateTableOfContents: function generateTableOfContents(paths_header, paths) {
    const toc_array = [];

    toc_array.push(`- ${(0, _linkToHeader2.default)(paths_header)}`);

    Object.keys(paths).forEach(path => {
      const methods = paths[path];
      Object.keys(methods).forEach(method => {
        const header = `${method.toUpperCase()} ${path}`;
        const deprecated = methods[method].deprecated ? ' _`deprecated`_' : '';
        toc_array.push(`  - ${(0, _linkToHeader2.default)(header)}${deprecated}`);
      });
    });

    return toc_array.join('\n');
  }
};

exports.default = api;